"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[138],{16347:function(e,t,n){n.d(t,{Z:function(){return y}});var r=n(2784),o=n(1503),c=n(52367),a=n(20138);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}var u=["blockProps","block","style"],l=function(e){var t=e.store;return function(e){var n=r.forwardRef((function(n,o){var c=n.blockProps,a=n.block,l=n.style,s=function(e,t){if(null==e)return{};var n,r,o={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(n,u),f=(0,r.useRef)();(0,r.useEffect)((function(){if(c.isFocused&&c.isCollapsedSelection){var e=f.current.getBoundingClientRect();t.updateItem("setAlignment",c.setAlignment),t.updateItem("alignment",c.alignment),t.updateItem("boundingRect",e),t.updateItem("visibleBlock",a.getKey())}else t.getItem("visibleBlock")===a.getKey()&&t.updateItem("visibleBlock",null);return function(){t.updateItem("visibleBlock",null)}}),[c.isFocused,c.isCollapsedSelection,t]);var g=c.alignment,d=l;return"left"===g?d=i({},l,{float:"left"}):"right"===g?d=i({},l,{float:"right"}):"center"===g&&(d=i({},l,{marginLeft:"auto",marginRight:"auto",display:"block"})),r.createElement(e,i({},s,{block:a,blockProps:c,style:d,ref:function(e){f.current=e,"function"===typeof o?o(e):o&&(o.current=e)}}))}));return n.displayName="Alignment("+function(e){var t=e.WrappedComponent||e;return t.displayName||t.name||"Component"}(e)+")",n.WrappedComponent=e.WrappedComponent||e,n}};function s(e){return e?"static"!==window.getComputedStyle(e).getPropertyValue("position")?e:s(e.parentElement):null}function f(e){var t=e.store,n=e.theme,o=(0,r.useState)({}),c=o[0],i=o[1],u=(0,r.useState)(null),l=u[0],f=u[1],g=(0,r.useRef)(null),d=(0,r.useRef)(),y=(0,r.useCallback)((function(e){var n=setTimeout((function(){var n,r=t.getItem("boundingRect");if(e&&r){var o=s(g.current.parentElement),c=g.current.clientHeight,a=o?o.getBoundingClientRect():document.body.getBoundingClientRect();n={top:r.top-a.top-c,left:r.left-a.left+r.width/2,transform:"translate(-50%) scale(1)",transition:"transform 0.15s cubic-bezier(.3,1.2,.2,1)"}}else n={transform:"translate(-50%) scale(0)"};var u=t.getItem("alignment")||"default";f(u),i(n),d.current=void 0}),0);d.current=n}),[]),m=(0,r.useCallback)((function(e){e&&f(e)}),[]);(0,r.useEffect)((function(){return function(){d.current&&clearTimeout(d.current)}}),[]),(0,r.useEffect)((function(){return t.subscribeToItem("visibleBlock",y),t.subscribeToItem("alignment",m),function(){t.unsubscribeFromItem("visibleBlock",y),t.unsubscribeFromItem("alignment",m)}}),[y,m]);var p=[a.f9,a.qA,a.xM,a.Tj];return r.createElement("div",{className:n.alignmentToolStyles.alignmentTool,style:c,ref:g},p.map((function(e,o){return r.createElement(e,{key:o,alignment:l,setAlignment:t.getItem("setAlignment"),theme:n.buttonStyles})})))}var g={buttonStyles:{buttonWrapper:"b1qfpj3o",button:"bgspekh",active:"autuw9p"},alignmentToolStyles:{alignmentTool:"awlhfjh"}},d=function(e,t){var n=t.getEditorState,r=t.setEditorState;return function(t){var c=e.getEntityAt(0);if(c){var a=n();a.getCurrentContent().mergeEntityData(c,i({},t)),r(o.EditorState.forceSelection(a,a.getSelection()))}}},y=function(e){void 0===e&&(e={});var t=(0,c.MT)({isVisible:!1}),n=e.theme,o=void 0===n?g:n;return{initialize:function(e){var n=e.getReadOnly,r=e.getEditorState,o=e.setEditorState;t.updateItem("getReadOnly",n),t.updateItem("getEditorState",r),t.updateItem("setEditorState",o)},decorator:l({store:t}),blockRendererFn:function(e,t){var n=t.getEditorState,r=t.setEditorState,o=e.getEntityAt(0),c=n().getCurrentContent();return{props:{alignment:(o?c.getEntity(o).getData():{}).alignment||"default",setAlignment:d(e,{getEditorState:n,setEditorState:r})}}},AlignmentTool:function(){return r.createElement(f,{store:t,theme:o})}}}},95597:function(e,t,n){n.d(t,{Z:function(){return k}});var r=n(1503),o=n(46670),c=n(52358),a=n.n(c),i=n(2784),u=n(6277);function l(e){var t=function(e,t,n){var o=t.getStartKey(),c=[];return e.getBlockMap().forEach((function(e,t){c.push(e),t===o&&c.push(n)})),e.merge({blockMap:r.BlockMapBuilder.createFromArray(c),selectionBefore:t,selectionAfter:t.merge({anchorKey:n.getKey(),anchorOffset:n.getLength(),focusKey:n.getKey(),focusOffset:n.getLength(),isBackward:!1})})}(e.getCurrentContent(),e.getSelection(),new r.ContentBlock({key:(0,r.genKey)(),type:"unstyled",text:"",characterList:(0,o.List)()})),n=t.merge({selectionAfter:t.getSelectionAfter().set("hasFocus",!0)});return r.EditorState.push(e,n,"insert-fragment")}var s=function(e,t,n,o){var c=e(),i=c.getSelection().getAnchorKey(),u="up"===n?c.getCurrentContent().getBlockBefore(i):c.getCurrentContent().getBlockAfter(i);if((!u||u.get("key")!==i)&&u){var l=a().encode(u.getKey(),0,0),s=document.querySelectorAll('[data-offset-key="'+l+'"]')[0],f=window.getSelection(),g=document.createRange();g.setStart(s,0),g.setEnd(s,0),f.removeAllRanges(),f.addRange(g);var d="up"===n?u.getLength():0;o.preventDefault(),t(r.EditorState.forceSelection(c,new r.SelectionState({anchorKey:u.getKey(),anchorOffset:d,focusKey:u.getKey(),focusOffset:d,isBackward:!1})))}};function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}var g=function(e){var t=e.theme,n=e.blockKeyStore;return function(e){var r=i.forwardRef((function(r,o){(0,i.useEffect)((function(){return n.add(r.block.getKey()),function(){n.remove(r.block.getKey())}}),[]);var c=r.blockProps,a=r.className,l=c.isFocused?(0,u.Z)(a,t.focused):(0,u.Z)(a,t.unfocused);return i.createElement(e,f({},r,{ref:o,onClick:function(e){e.preventDefault(),r.blockProps.isFocused||r.blockProps.setFocusToBlock()},className:l}))}));return r.displayName="BlockFocus("+function(e){var t=e.WrappedComponent||e;return t.displayName||t.name||"Component"}(e)+")",r.WrappedComponent=e.WrappedComponent||e,r}};var d=function(e,t,n){return e.getBlockMap().keySeq().skipUntil((function(e){return e===t})).takeUntil((function(e){return e===n})).concat([n])},y=function(e,t){var n=function(e){var t=e.getSelection(),n=e.getCurrentContent();return d(n,t.getStartKey(),t.getEndKey())}(e);return n.includes(t)};var m={unfocused:"uz5k6rs",focused:"f1vn2c6d"},p=function(e,t){var n=e.getSelection();if(n.getAnchorKey()!==n.getFocusKey())return!1;var r=e.getCurrentContent().getBlockForKey(n.getAnchorKey());return t.includes(r.getKey())},v=["backspace","backspace-word","backspace-to-start-of-line","delete","delete-word","delete-to-end-of-block"];function S(e){return r.EditorState.set(e,{selection:e.getSelection(),forceSelection:!0,nativelyRenderedContent:null,inlineStyleOverride:null})}var k=function(e){void 0===e&&(e={});var t,n,c=function(){var e=(0,o.List)();return{add:function(t){return e=e.push(t)},remove:function(t){return e=e.filter((function(e){return e!==t}))},includes:function(t){return e.includes(t)},getAll:function(){return e}}}(),i=e.theme?e.theme:m;return{handleReturn:function(e,t,n){var r=n.setEditorState;return p(t,c)?(r(l(t)),"handled"):"not-handled"},handleKeyCommand:function(e,t,n,o){var a=o.setEditorState;if(v.includes(e)&&p(t,c)){var i=t.getSelection().getStartKey(),u=function(e,t){var n=e.getCurrentContent(),o=n.getKeyBefore(t),c=n.getBlockForKey(o);if(void 0===c){var a=new r.SelectionState({anchorKey:t,anchorOffset:0,focusKey:t,focusOffset:1});n=r.Modifier.removeRange(n,a,"backward"),n=r.Modifier.setBlockType(n,a,"unstyled");var i=r.EditorState.push(e,n,"remove-range"),u=new r.SelectionState({anchorKey:t,anchorOffset:0,focusKey:t,focusOffset:0});return r.EditorState.forceSelection(i,u)}var l=new r.SelectionState({anchorKey:o,anchorOffset:c.getLength(),focusKey:t,focusOffset:1});n=r.Modifier.removeRange(n,l,"backward");var s=r.EditorState.push(e,n,"remove-range"),f=new r.SelectionState({anchorKey:o,anchorOffset:c.getLength(),focusKey:o,focusOffset:c.getLength()});return r.EditorState.forceSelection(s,f)}(t,i);if(u!==t)return a(u),"handled"}return"space"===e&&p(t,c)?"handled":"not-handled"},onChange:function(e){var r=e.getCurrentContent();if(!r.equals(n))return n=r,e;n=r;var o=e.getSelection();if(t&&o.equals(t))return t=e.getSelection(),e;var a=c.getAll();if(t&&d(r,t.getStartKey(),t.getEndKey()).some((function(e){return a.includes(e)})))return t=o,S(e);return d(r,o.getStartKey(),o.getEndKey()).some((function(e){return a.includes(e)}))?(t=o,S(e)):e},keyBindingFn:function(e,t){var n=t.getEditorState,r=t.setEditorState,o=n();if(p(o,c)){if(32===e.keyCode)return"space";if(37===e.keyCode&&s(n,r,"up",e),39===e.keyCode&&s(n,r,"down",e),38===e.keyCode&&s(n,r,"up",e),40===e.keyCode)return void s(n,r,"down",e)}if(!e.shiftKey){if(37===e.keyCode){var a=o.getSelection(),i=a.getAnchorKey(),u=o.getCurrentContent().getBlockBefore(i);u&&0===a.getAnchorOffset()&&c.includes(u.getKey())&&s(n,r,"up",e)}if(39===e.keyCode){var l=o.getSelection(),f=l.getFocusKey(),g=o.getCurrentContent().getBlockForKey(f),d=o.getCurrentContent().getBlockAfter(f),y="atomic"!==g.getType()&&g.getLength()===l.getFocusOffset();d&&y&&c.includes(d.getKey())&&s(n,r,"down",e)}if(38===e.keyCode){var m=o.getSelection().getAnchorKey(),v=o.getCurrentContent().getBlockBefore(m);v&&c.includes(v.getKey())&&s(n,r,"up",e)}if(40===e.keyCode){var S=o.getSelection().getAnchorKey(),k=o.getCurrentContent().getBlockAfter(S);k&&c.includes(k.getKey())&&s(n,r,"down",e)}}},blockRendererFn:function(e,t){var n=t.getEditorState,o=t.setEditorState;if("atomic"===e.getType()){var c=n();return{props:{isFocused:c.getSelection().getHasFocus()&&y(c,e.getKey()),isCollapsedSelection:c.getSelection().isCollapsed(),setFocusToBlock:function(){!function(e,t,n){var o=e(),c=a().encode(n.getKey(),0,0),i=document.querySelectorAll('[data-offset-key="'+c+'"]')[0],u=window.getSelection(),l=document.createRange();l.setStart(i,0),l.setEnd(i,0),u.removeAllRanges(),u.addRange(l),t(r.EditorState.forceSelection(o,new r.SelectionState({anchorKey:n.getKey(),anchorOffset:0,focusKey:n.getKey(),focusOffset:0,isBackward:!1})))}(n,o,e)}}}}},decorator:g({theme:i,blockKeyStore:c})}}}}]);
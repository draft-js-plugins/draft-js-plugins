(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[647],{18973:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/plugin/image",function(){return n(93273)}])},65721:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var a=n(52322),r=(n(2784),n(6277)),o=(n(90217),n(88441)),i=n.n(o);function s(e){var t=e.code,n=e.className,o=e.name,s=(0,r.Z)(i().root,n),l=o?i().name:i().hiddenName,d=(0,r.Z)(i().code,"language-".concat(o&&o.endsWith("css")?"css":"js"));return(0,a.jsxs)("div",{className:s,children:[(0,a.jsx)("div",{className:l,children:o}),(0,a.jsx)("pre",{className:d,children:(0,a.jsx)("code",{children:t})})]})}},14799:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var a=n(52322),r=(n(2784),n(6277)),o=(n(90217),n(4813)),i=n.n(o);function s(e){var t=e.code,n=e.className,o=(0,r.Z)(i().root,n);return(0,a.jsx)("span",{className:o,children:(0,a.jsx)("code",{dangerouslySetInnerHTML:{__html:t}})})}},16744:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var a=n(52322),r=n(18476),o=n.n(r),i=n(2784),s=n(82587),l=n(11497),d=n(26351),c=n(56895);function u(e){var t=e.children,n=e.filePath;return(0,i.useEffect)((function(){o().highlightAll()}),[]),(0,a.jsxs)("div",{children:[(0,a.jsx)(l.Z,{}),(0,a.jsx)(d.Z,{}),t,(0,a.jsx)(c.Z,{filePath:n}),(0,a.jsx)(s.Z,{})]})}},93273:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ie}});var a=n(90581),r=n(27805),o=n(64297),i=n(58408),s=n(52322),l=n(2784),d=n(67619),c=n(65721),u=n(66769),m=n(13706),g=n(47842),p=n(64705),f=n(51747),h=n(90797),y=n.n(h),v=function(e){(0,o.Z)(n,e);var t=(0,i.Z)(n);function n(){var e;return(0,a.Z)(this,n),e=t.apply(this,arguments),(0,g.Z)((0,m.Z)(e),"state",{url:"",open:!1}),(0,g.Z)((0,m.Z)(e),"onPopoverClick",(function(){e.preventNextClose=!0})),(0,g.Z)((0,m.Z)(e),"openPopover",(function(){e.state.open||(e.preventNextClose=!0,e.setState({open:!0}))})),(0,g.Z)((0,m.Z)(e),"closePopover",(function(){!e.preventNextClose&&e.state.open&&e.setState({open:!1}),e.preventNextClose=!1})),(0,g.Z)((0,m.Z)(e),"addImage",(function(){var t=e.props,n=t.editorState;(0,t.onChange)(e.props.modifier(n,e.state.url))})),(0,g.Z)((0,m.Z)(e),"changeUrl",(function(t){e.setState({url:t.target.value})})),e}return(0,r.Z)(n,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.closePopover)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.closePopover)}},{key:"render",value:function(){var e=this.state.open?y().addImagePopover:y().addImageClosedPopover,t=this.state.open?y().addImagePressedButton:y().addImageButton;return(0,s.jsxs)("div",{className:y().addImage,children:[(0,s.jsx)("button",{className:t,onMouseUp:this.openPopover,type:"button",children:"+"}),(0,s.jsxs)("div",{className:e,onClick:this.onPopoverClick,children:[(0,s.jsx)("input",{type:"text",placeholder:"Paste the image url \u2026",className:y().addImageInput,onChange:this.changeUrl,value:this.state.url}),(0,s.jsx)("button",{className:y().addImageConfirmButton,type:"button",onClick:this.addImage,children:"Add"})]})]})}}]),n}(l.Component),x=n(10287),S=n.n(x),b=(0,f.Z)(),j=[b],C='Click on the + button below and insert "/images/canada-landscape-small.jpg" to add the landscape image. Alternativly you can use any image url on the web.',k=function(e){(0,o.Z)(n,e);var t=(0,i.Z)(n);function n(){var e;return(0,a.Z)(this,n),e=t.apply(this,arguments),(0,g.Z)((0,m.Z)(e),"state",{editorState:(0,p.bf)(C)}),(0,g.Z)((0,m.Z)(e),"onChange",(function(t){e.setState({editorState:t})})),(0,g.Z)((0,m.Z)(e),"focus",(function(){e.editor.focus()})),e}return(0,r.Z)(n,[{key:"render",value:function(){var e=this;return(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:S().editor,onClick:this.focus,children:(0,s.jsx)(p.ZP,{editorState:this.state.editorState,onChange:this.onChange,plugins:j,ref:function(t){e.editor=t}})}),(0,s.jsx)(v,{editorState:this.state.editorState,onChange:this.onChange,modifier:b.addImage})]})}}]),n}(l.Component),E=n(1503),P=n(16347),Z=n(95597),_=n(53816),N=n(74782);function I(e){var t=e.blockProps,n=e.block;return l.createElement("span",{contentEditable:!1,"data-offset-key":n.get("key")+"-0-0"},"![Uploading ",t.resizeData.name,"...](",t.resizeData.progress,")"," ")}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function B(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0;return function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function w(e,t){var n=e.getCurrentContent(),a=n.getBlockForKey(t),r=new E.SelectionState({anchorKey:t,anchorOffset:0,focusKey:t,focusOffset:a.getLength()}),o=E.Modifier.removeRange(n,r,"backward"),i=E.Modifier.setBlockType(o,o.getSelectionAfter(),"unstyled"),s=E.EditorState.push(e,i,"remove-range");return E.EditorState.forceSelection(s,i.getSelectionAfter())}function A(e){return new Promise((function(t){var n=new FileReader;n.onload=function(n){t({lastModifiedDate:e.lastModifiedDate,lastModified:e.lastModified,name:e.name,size:e.size,type:e.type,src:n.target.result})},0===e.type.indexOf("text/")||"application/json"===e.type?n.readAsText(e):0===e.type.indexOf("image/")?n.readAsDataURL(e):n.readAsBinaryString(e)}))}var D=[];function M(e){return function(t,n,a){var r=a.getEditorState,o=a.setEditorState,i=e.handleUpload;if(i){for(var s,l={files:[],formData:new FormData},d=B(n);!(s=d()).done;){var c=s.value;c&&c instanceof File&&(l.formData.append("files",c),l.files.push(c))}return o(E.EditorState.acceptSelection(r(),t)),function(e){return Promise.all(e.map(A))}(l.files).then((function(t){var n=r();D=[],t.forEach((function(e){var t=function(e,t){var n=e.getCurrentContent().createEntity("UploadPlaceholder","IMMUTABLE",{name:t,progress:"0%"}).getLastCreatedEntityKey(),a=E.AtomicBlockUtils.insertAtomicBlock(e,n," "),r=a.getCurrentContent().getBlockBefore(a.getSelection().getAnchorKey());if(void 0===r)throw new Error("Unable to locate the block-key of inserted-atomic-block.");return{state:E.EditorState.forceSelection(a,a.getCurrentContent().getSelectionAfter()),blockKey:r.getKey(),key:n,text:t}}(n,e.name),a=t.state,r=t.key,o=t.text,i=t.blockKey;D.push({key:r,text:o,blockKey:i}),n=a})),o(n),i(l,(function(t){var n=r();D.forEach((function(e){n=w(n,e.blockKey)})),o(n),t&&(t.forEach((function(t){e.addImage&&(n=e.addImage(n,t.src))})),o(n))}),(function(e){var t=r(),n=D.find((function(t){return t.text===e.name}));void 0!==n&&(t=w(t,n.blockKey),o(t))}),(function(e,t){var n=r(),a=D.find((function(e){return e.text===t.name}));if(void 0!==a){var i={name:t.name,progress:e+"%"};n=function(e,t,n){return e.getCurrentContent().mergeEntityData(t,n),E.EditorState.forceSelection(e,e.getCurrentContent().getSelectionAfter())}(n,a.key,i),o(n)}}))})),"handled"}return"not-handled"}}var O=n(44710),T=n.n(O);var z,F=(0,Z.Z)(),L=(0,_.Z)(),U=(0,N.Z)(),K=(0,P.Z)(),W=K.AlignmentTool,Y=(0,p.lM)(L.decorator,K.decorator,F.decorator,U.decorator),X=(0,f.Z)({decorator:Y}),G=[(void 0===(z={handleUpload:function(e,t,n,a){!function n(r){a(r||1),100===r?Promise.all(e.files.map(A)).then((function(e){return t(e,{retainSrc:!0})})):setTimeout(n,250,(r||0)+10)}()},addImage:X.addImage})&&(z={}),{handleDroppedFiles:M(z),blockRendererFn:function(e,t){var n=t.getEditorState;if("atomic"===e.getType()){var a=n().getCurrentContent(),r=e.getEntityAt(0);if(!r)return null;var o=a.getEntity(r).getType();return"UploadPlaceholder"===o||"PLACEHOLDER"===o?{component:I,editable:!1}:null}return null}}),U,F,K,L,X],H={entityMap:{0:{type:"IMAGE",mutability:"IMMUTABLE",data:{src:"/images/canada-landscape-small.jpg"}}},blocks:[{key:"9gm3s",text:"You can have images in your text field. This is a very rudimentary example, but you can enhance the image plugin with resizing, focus or alignment plugins.",type:"unstyled",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"ov7r",text:" ",type:"atomic",depth:0,inlineStyleRanges:[],entityRanges:[{offset:0,length:1,key:0}],data:{}},{key:"e23a8",text:"See advanced examples further down \u2026",type:"unstyled",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}}]},J=function(e){(0,o.Z)(n,e);var t=(0,i.Z)(n);function n(){var e;return(0,a.Z)(this,n),e=t.apply(this,arguments),(0,g.Z)((0,m.Z)(e),"state",{editorState:E.EditorState.createWithContent((0,E.convertFromRaw)(H))}),(0,g.Z)((0,m.Z)(e),"onChange",(function(t){e.setState({editorState:t})})),(0,g.Z)((0,m.Z)(e),"focus",(function(){e.editor.focus()})),e}return(0,r.Z)(n,[{key:"render",value:function(){var e=this;return(0,s.jsx)("div",{children:(0,s.jsxs)("div",{className:T().editor,onClick:this.focus,children:[(0,s.jsx)(p.ZP,{editorState:this.state.editorState,onChange:this.onChange,plugins:G,ref:function(t){e.editor=t}}),(0,s.jsx)(W,{})]})})}}]),n}(l.Component),Q=n(17101),V=n.n(Q),$=[(0,f.Z)()],q={entityMap:{0:{type:"IMAGE",mutability:"IMMUTABLE",data:{src:"/images/canada-landscape-small.jpg"}}},blocks:[{key:"9gm3s",text:"You can have images in your text field. This is a very rudimentary example, but you can enhance the image plugin with resizing, focus or alignment plugins.",type:"unstyled",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"ov7r",text:" ",type:"atomic",depth:0,inlineStyleRanges:[],entityRanges:[{offset:0,length:1,key:0}],data:{}},{key:"e23a8",text:"See advanced examples further down \u2026",type:"unstyled",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}}]},ee=function(e){(0,o.Z)(n,e);var t=(0,i.Z)(n);function n(){var e;return(0,a.Z)(this,n),e=t.apply(this,arguments),(0,g.Z)((0,m.Z)(e),"state",{editorState:E.EditorState.createWithContent((0,E.convertFromRaw)(q))}),(0,g.Z)((0,m.Z)(e),"onChange",(function(t){e.setState({editorState:t})})),(0,g.Z)((0,m.Z)(e),"focus",(function(){e.editor.focus()})),e}return(0,r.Z)(n,[{key:"render",value:function(){var e=this;return(0,s.jsx)("div",{children:(0,s.jsx)("div",{className:V().editor,onClick:this.focus,children:(0,s.jsx)(p.ZP,{editorState:this.state.editorState,onChange:this.onChange,plugins:$,ref:function(t){e.editor=t}})})})}}]),n}(l.Component),te=n(90397),ne=n(14799),ae=n(16744),re=n(60115),oe=n.n(re),ie=function(e){(0,o.Z)(n,e);var t=(0,i.Z)(n);function n(){return(0,a.Z)(this,n),t.apply(this,arguments)}return(0,r.Z)(n,[{key:"render",value:function(){return(0,s.jsxs)(ae.Z,{filePath:"packages/docs/pages/plugin/image/index.js",children:[(0,s.jsxs)(u.Z,{children:[(0,s.jsx)(te.Z,{level:2,children:"Image"}),(0,s.jsx)(te.Z,{level:3,children:"Supported Environment"}),(0,s.jsxs)("ul",{className:oe().list,children:[(0,s.jsx)("li",{className:oe().listEntry,children:"Desktop: Yes"}),(0,s.jsx)("li",{className:oe().listEntry,children:"Mobile: Yes"}),(0,s.jsx)("li",{className:oe().listEntry,children:"Screen-reader: No"})]})]}),(0,s.jsxs)(d.Z,{children:[(0,s.jsx)(te.Z,{level:2,children:"Getting Started"}),(0,s.jsx)(c.Z,{code:"npm install @draft-js-plugins/editor"}),(0,s.jsx)(c.Z,{code:"npm install @draft-js-plugins/image"}),(0,s.jsx)(c.Z,{code:"// It is important to import the Editor which accepts plugins.\n\nimport Editor from '@draft-js-plugins/editor';\n\nimport createImagePlugin from '@draft-js-plugins/image';\nimport React from 'react';\n\nconst imagePlugin = createImagePlugin();\n\n// The Editor accepts an array of plugins. In this case, only the imagePlugin\n// is passed in, although it is possible to pass in multiple plugins.\nconst MyEditor = ({ editorState, onChange }) => (\n  <Editor\n    editorState={editorState}\n    onChange={onChange}\n    plugins={[imagePlugin]}\n  />\n);\n\nexport default MyEditor;\n",name:"gettingStarted.js"}),(0,s.jsx)(te.Z,{level:3,children:"Importing the default styles"}),(0,s.jsxs)("p",{children:["The plugin ships with a default styling available at this location in the installed package: \xa0",(0,s.jsx)(ne.Z,{code:"node_modules/@draft-js-plugins/image/lib/plugin.css"})]}),(0,s.jsx)(te.Z,{level:4,children:"Webpack Usage"}),(0,s.jsxs)("ul",{className:oe().list,children:[(0,s.jsxs)("li",{className:oe().listEntry,children:["1. Install Webpack loaders: \xa0",(0,s.jsx)(ne.Z,{code:"npm i style-loader css-loader --save-dev"})]}),(0,s.jsxs)("li",{className:oe().listEntry,children:["2. Add the below section to Webpack config (if your config already has a loaders array, simply add the below loader object to your existing list.",(0,s.jsx)(c.Z,{code:"module.exports = {\n  module: {\n    loaders: [\n      {\n        test: /plugin\\.css$/,\n        loaders: ['style-loader', 'css'],\n      },\n    ],\n  },\n};\n",className:oe().guideCodeBlock})]}),(0,s.jsxs)("li",{className:oe().listEntry,children:["3. Add the below import line to your component to tell Webpack to inject the style to your component.",(0,s.jsx)(c.Z,{code:"import '@draft-js-plugins/image/lib/plugin.css';",className:oe().guideCodeBlock})]}),(0,s.jsx)("li",{className:oe().listEntry,children:"4. Restart Webpack."})]})]}),(0,s.jsxs)(u.Z,{children:[(0,s.jsx)(te.Z,{level:2,children:"Configuration Parameters"}),(0,s.jsxs)("div",{className:oe().param,children:[(0,s.jsx)("span",{className:oe().paramName,children:"theme"}),(0,s.jsx)("span",{children:"Object of CSS classes with the following keys."}),(0,s.jsxs)("div",{className:oe().subParams,children:[(0,s.jsxs)("div",{className:oe().subParam,children:[(0,s.jsx)("span",{className:oe().subParamName,children:"image:"})," CSS class for the image."]}),(0,s.jsxs)("div",{className:oe().subParam,children:[(0,s.jsx)("span",{className:oe().subParamName,children:"addImage:"})," CSS class."]}),(0,s.jsxs)("div",{className:oe().subParam,children:[(0,s.jsx)("span",{className:oe().subParamName,children:"addImagePopover:"})," ","CSS class."]}),(0,s.jsxs)("div",{className:oe().subParam,children:[(0,s.jsx)("span",{className:oe().subParamName,children:"addImageClosedPopover:"})," ","CSS class."]}),(0,s.jsxs)("div",{className:oe().subParam,children:[(0,s.jsx)("span",{className:oe().subParamName,children:"addImageBottomGradient:"})," ","CSS class."]}),(0,s.jsxs)("div",{className:oe().subParam,children:[(0,s.jsx)("span",{className:oe().subParamName,children:"addImageButton:"})," CSS class."]}),(0,s.jsxs)("div",{className:oe().subParam,children:[(0,s.jsx)("span",{className:oe().subParamName,children:"addImagePressedButton:"})," ","CSS class."]}),(0,s.jsxs)("div",{className:oe().subParam,children:[(0,s.jsx)("span",{className:oe().subParamName,children:"addImageInput:"})," CSS class."]}),(0,s.jsxs)("div",{className:oe().subParam,children:[(0,s.jsx)("span",{className:oe().subParamName,children:"addImageConfirmButton:"})," ","CSS class."]})]})]}),(0,s.jsxs)("div",{className:oe().paramBig,children:[(0,s.jsx)("span",{className:oe().paramName,children:"imageComponent"}),(0,s.jsx)("span",{children:"Pass in a custom image component to be rendered."})]}),(0,s.jsxs)("div",{className:oe().paramBig,children:[(0,s.jsx)("span",{className:oe().paramName,children:"addImageButtonContent"}),(0,s.jsx)("span",{children:"Content of button which opens add image popup. (Default content is \ud83d\udcf7)"})]})]}),(0,s.jsxs)(u.Z,{children:[(0,s.jsx)(te.Z,{level:2,children:"Simple Example"}),(0,s.jsx)(ee,{}),(0,s.jsx)(c.Z,{code:"import React, { Component } from 'react';\nimport { convertFromRaw, EditorState } from 'draft-js';\n\nimport Editor from '@draft-js-plugins/editor';\n\nimport createImagePlugin from '@draft-js-plugins/image';\nimport editorStyles from './editorStyles.module.css';\n\nconst imagePlugin = createImagePlugin();\nconst plugins = [imagePlugin];\n\n/* eslint-disable */\nconst initialState = {\n  entityMap: {\n    0: {\n      type: 'IMAGE',\n      mutability: 'IMMUTABLE',\n      data: {\n        src: '/images/canada-landscape-small.jpg',\n      },\n    },\n  },\n  blocks: [\n    {\n      key: '9gm3s',\n      text:\n        'You can have images in your text field. This is a very rudimentary example, but you can enhance the image plugin with resizing, focus or alignment plugins.',\n      type: 'unstyled',\n      depth: 0,\n      inlineStyleRanges: [],\n      entityRanges: [],\n      data: {},\n    },\n    {\n      key: 'ov7r',\n      text: ' ',\n      type: 'atomic',\n      depth: 0,\n      inlineStyleRanges: [],\n      entityRanges: [\n        {\n          offset: 0,\n          length: 1,\n          key: 0,\n        },\n      ],\n      data: {},\n    },\n    {\n      key: 'e23a8',\n      text: 'See advanced examples further down \u2026',\n      type: 'unstyled',\n      depth: 0,\n      inlineStyleRanges: [],\n      entityRanges: [],\n      data: {},\n    },\n  ],\n};\n/* eslint-enable */\n\nexport default class SimpleImageEditor extends Component {\n  state = {\n    editorState: EditorState.createWithContent(convertFromRaw(initialState)),\n  };\n\n  onChange = (editorState) => {\n    this.setState({\n      editorState,\n    });\n  };\n\n  focus = () => {\n    this.editor.focus();\n  };\n\n  render() {\n    return (\n      <div>\n        <div className={editorStyles.editor} onClick={this.focus}>\n          <Editor\n            editorState={this.state.editorState}\n            onChange={this.onChange}\n            plugins={plugins}\n            ref={(element) => {\n              this.editor = element;\n            }}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n",name:"SimpleImageEditor.js"}),(0,s.jsx)(c.Z,{code:".editor {\n  box-sizing: border-box;\n  border: 1px solid #ddd;\n  cursor: text;\n  padding: 16px;\n  border-radius: 2px;\n  margin-bottom: 2em;\n  box-shadow: inset 0px 1px 8px -3px #ABABAB;\n  background: #fefefe;\n}\n\n.editor :global(.public-DraftEditor-content) {\n  min-height: 140px;\n}\n\n.options {\n  margin-bottom: 20px;\n}\n",name:"editorStyles.css"})]}),(0,s.jsxs)(u.Z,{children:[(0,s.jsx)(te.Z,{level:2,children:"Alignment + Resize + Focus + Drag'n'Drop + Drag'n'Drop Upload Example"}),(0,s.jsx)(J,{}),(0,s.jsx)(c.Z,{code:"import { readFile } from '@draft-js-plugins/drag-n-drop-upload';\n\n/*\n*\n* @name: mockUpload\n* @desc: Custom file upload function. Simulates a file upload.\n* @param {[File], formData} data: consists of an array of files that have been uploaded and a formData object composed of those same files.\n* @param {function([{name: string, src: string}])} success - function to mark a successfull file upload, it takes an array of successfully uploaded files.\n* @param {function({name: string, src?: string})} failed - function that is called to mark a failure to upload one or more files. Removes the upload placeholders.\n* @param {(function(percent:int, file: {name:string, src:string})} progress - function to mark the progress in percentage points. It updates the progress count on each placeholder.\n*/\nexport default function mockUpload(data, success, failed, progress) {\n  function doProgress(percent) {\n    progress(percent || 1);\n    if (percent === 100) {\n      // Start reading the file\n      Promise.all(data.files.map(readFile)).then((files) =>\n        success(files, { retainSrc: true })\n      );\n    } else {\n      setTimeout(doProgress, 250, (percent || 0) + 10);\n    }\n  }\n\n  doProgress();\n}\n",name:"mockUpload.js"}),(0,s.jsx)(c.Z,{code:"import React, { Component } from 'react';\nimport { convertFromRaw, EditorState } from 'draft-js';\n\nimport Editor, { composeDecorators } from '@draft-js-plugins/editor';\n\nimport createImagePlugin from '@draft-js-plugins/image';\n\nimport createAlignmentPlugin from '@draft-js-plugins/alignment';\n\nimport createFocusPlugin from '@draft-js-plugins/focus';\n\nimport createResizeablePlugin from '@draft-js-plugins/resizeable';\n\nimport createBlockDndPlugin from '@draft-js-plugins/drag-n-drop';\n\nimport createDragNDropUploadPlugin from '@draft-js-plugins/drag-n-drop-upload';\nimport editorStyles from './editorStyles.module.css';\nimport mockUpload from './mockUpload';\n\nconst focusPlugin = createFocusPlugin();\nconst resizeablePlugin = createResizeablePlugin();\nconst blockDndPlugin = createBlockDndPlugin();\nconst alignmentPlugin = createAlignmentPlugin();\nconst { AlignmentTool } = alignmentPlugin;\n\nconst decorator = composeDecorators(\n  resizeablePlugin.decorator,\n  alignmentPlugin.decorator,\n  focusPlugin.decorator,\n  blockDndPlugin.decorator\n);\nconst imagePlugin = createImagePlugin({ decorator });\n\nconst dragNDropFileUploadPlugin = createDragNDropUploadPlugin({\n  handleUpload: mockUpload,\n  addImage: imagePlugin.addImage,\n});\n\nconst plugins = [\n  dragNDropFileUploadPlugin,\n  blockDndPlugin,\n  focusPlugin,\n  alignmentPlugin,\n  resizeablePlugin,\n  imagePlugin,\n];\n\n/* eslint-disable */\nconst initialState = {\n  entityMap: {\n    0: {\n      type: 'IMAGE',\n      mutability: 'IMMUTABLE',\n      data: {\n        src: '/images/canada-landscape-small.jpg',\n      },\n    },\n  },\n  blocks: [\n    {\n      key: '9gm3s',\n      text:\n        'You can have images in your text field. This is a very rudimentary example, but you can enhance the image plugin with resizing, focus or alignment plugins.',\n      type: 'unstyled',\n      depth: 0,\n      inlineStyleRanges: [],\n      entityRanges: [],\n      data: {},\n    },\n    {\n      key: 'ov7r',\n      text: ' ',\n      type: 'atomic',\n      depth: 0,\n      inlineStyleRanges: [],\n      entityRanges: [\n        {\n          offset: 0,\n          length: 1,\n          key: 0,\n        },\n      ],\n      data: {},\n    },\n    {\n      key: 'e23a8',\n      text: 'See advanced examples further down \u2026',\n      type: 'unstyled',\n      depth: 0,\n      inlineStyleRanges: [],\n      entityRanges: [],\n      data: {},\n    },\n  ],\n};\n/* eslint-enable */\n\nexport default class CustomImageEditor extends Component {\n  state = {\n    editorState: EditorState.createWithContent(convertFromRaw(initialState)),\n  };\n\n  onChange = (editorState) => {\n    this.setState({\n      editorState,\n    });\n  };\n\n  focus = () => {\n    this.editor.focus();\n  };\n\n  render() {\n    return (\n      <div>\n        <div className={editorStyles.editor} onClick={this.focus}>\n          <Editor\n            editorState={this.state.editorState}\n            onChange={this.onChange}\n            plugins={plugins}\n            ref={(element) => {\n              this.editor = element;\n            }}\n          />\n          <AlignmentTool />\n        </div>\n      </div>\n    );\n  }\n}\n",name:"AddImageEditor.js"}),(0,s.jsx)(c.Z,{code:".editor {\n  box-sizing: border-box;\n  border: 1px solid #ddd;\n  cursor: text;\n  padding: 16px;\n  border-radius: 2px;\n  margin-bottom: 2em;\n  box-shadow: inset 0px 1px 8px -3px #ABABAB;\n  background: #fefefe;\n}\n\n.editor :global(.public-DraftEditor-content) {\n  min-height: 140px;\n}\n\n.options {\n  margin-bottom: 20px;\n}\n",name:"editorStyles.css"})]}),(0,s.jsxs)(u.Z,{children:[(0,s.jsx)(te.Z,{level:2,children:"Add Image Button Example"}),(0,s.jsx)(k,{}),(0,s.jsx)(c.Z,{code:"import React, { Component } from 'react';\n\nimport Editor, { createEditorStateWithText } from '@draft-js-plugins/editor';\n\nimport createImagePlugin from '@draft-js-plugins/image';\nimport ImageAdd from './ImageAdd';\n\nimport editorStyles from './editorStyles.module.css';\n\nconst imagePlugin = createImagePlugin();\nconst plugins = [imagePlugin];\n\nconst text =\n  'Click on the + button below and insert \"/images/canada-landscape-small.jpg\" to add the landscape image. Alternativly you can use any image url on the web.';\n\nexport default class CustomImageEditor extends Component {\n  state = {\n    editorState: createEditorStateWithText(text),\n  };\n\n  onChange = (editorState) => {\n    this.setState({\n      editorState,\n    });\n  };\n\n  focus = () => {\n    this.editor.focus();\n  };\n\n  render() {\n    return (\n      <div>\n        <div className={editorStyles.editor} onClick={this.focus}>\n          <Editor\n            editorState={this.state.editorState}\n            onChange={this.onChange}\n            plugins={plugins}\n            ref={(element) => {\n              this.editor = element;\n            }}\n          />\n        </div>\n        <ImageAdd\n          editorState={this.state.editorState}\n          onChange={this.onChange}\n          modifier={imagePlugin.addImage}\n        />\n      </div>\n    );\n  }\n}\n",name:"AddImageEditor.js"}),(0,s.jsx)(c.Z,{code:".editor {\n  box-sizing: border-box;\n  border: 1px solid #ddd;\n  cursor: text;\n  padding: 16px;\n  border-radius: 2px;\n  margin-bottom: 2em;\n  box-shadow: inset 0px 1px 8px -3px #ABABAB;\n  background: #fefefe;\n}\n\n.editor :global(.public-DraftEditor-content) {\n  min-height: 140px;\n}\n\n.options {\n  margin-bottom: 20px;\n}\n",name:"editorStyles.css"})]})]})}}]),n}(l.Component)},88441:function(e){e.exports={root:"Code_root__L5JtP",name:"Code_name__0g9Xm",hiddenName:"Code_hiddenName__iBe7o"}},90797:function(e){e.exports={addImage:"styles_addImage__oDDUB",addImagePopover:"styles_addImagePopover__Pk7zR",addImageClosedPopover:"styles_addImageClosedPopover__5ruB0",addImageButton:"styles_addImageButton__8hQ7c",addImagePressedButton:"styles_addImagePressedButton__4ysW9 styles_addImageButton__8hQ7c",addImageBottomGradient:"styles_addImageBottomGradient__blXlD",addImageInput:"styles_addImageInput__Bk2QZ",addImageConfirmButton:"styles_addImageConfirmButton__NLsa5"}},10287:function(e){e.exports={editor:"editorStyles_editor__cuMXt",options:"editorStyles_options__G0gLu"}},44710:function(e){e.exports={editor:"editorStyles_editor__zYq1x",options:"editorStyles_options__xsPF4"}},17101:function(e){e.exports={editor:"editorStyles_editor__gPkdE",options:"editorStyles_options__Z_hyN"}},4813:function(e){e.exports={root:"InlineCode_root__8ZQag"}},60115:function(e){e.exports={root:"styles_root__Nj6Xu",param:"styles_param__XAHIo",paramBig:"styles_paramBig__wMN9c",paramName:"styles_paramName__XYdYV",subParams:"styles_subParams__iubxK",subParam:"styles_subParam__JPamg",subParamName:"styles_subParamName__yFFAm",list:"styles_list__niFRh",listEntry:"styles_listEntry__p4Y8x",guideCodeBlock:"styles_guideCodeBlock__w3ZtJ"}},74782:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var a=n(1503),r=n(46670),o=n(2784);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i.apply(this,arguments)}var s="DRAFTJS_BLOCK_KEY",l=function(e,t,n,o){var l=o.getEditorState,d=o.setEditorState,c=l(),u=t.data.getData("text"),m=u?u.split(":"):[];if(2!==m.length)return"not-handled";if(m[0]===s){var g=m[1],p=c.getCurrentContent(),f=p.getBlockForKey(g),h=p.getEntity(f.getEntityAt(0)),y=function(e,t,n,o,s,l){void 0===l&&(l=" ");var d,c,u=e.getCurrentContent(),m=t,g=a.Modifier.removeRange(u,m,"backward"),p=g.getSelectionAfter(),f=p.get("focusKey"),h=u.getBlockForKey(f),y=0===h.getLength()&&null===h.getEntityAt(0),v=0===m.getStartOffset();y||v?(d=p,c=g):d=(c=a.Modifier.splitBlock(g,p)).getSelectionAfter();var x=a.Modifier.setBlockType(c,d,n),S=x.createEntity(s||n,"IMMUTABLE",i({},o)).getLastCreatedEntityKey(),b=a.CharacterMetadata.create({entity:S}),j=[new a.ContentBlock({key:(0,a.genKey)(),type:n,text:l,characterList:(0,r.List)((0,r.Repeat)(b,l.length||1))}),new a.ContentBlock({key:(0,a.genKey)(),type:"unstyled",text:"",characterList:(0,r.List)()})],C=a.BlockMapBuilder.createFromArray(j);return a.Modifier.replaceWithFragment(x,d,C)}(c,e,f.getType(),h.getData(),h.getType()),v=function(e,t){var n,r=e.getKeyAfter(t),o=e.getBlockForKey(r);n=o&&"unstyled"===o.getType()&&0===o.getLength()&&o===e.getBlockMap().last()?new a.SelectionState({anchorKey:t,anchorOffset:0,focusKey:r,focusOffset:0}):new a.SelectionState({anchorKey:t,anchorOffset:0,focusKey:t,focusOffset:1});var i=a.Modifier.setBlockType(e,n,"unstyled");return a.Modifier.removeRange(i,n,"backward")}(y,g),x=new a.SelectionState({anchorKey:g,anchorOffset:0,focusKey:g,focusOffset:0}),S=a.EditorState.push(c,v,"insert-fragment");d(a.EditorState.forceSelection(S,x))}return"handled"},d=function(e){var t=e.store;return function(e){var n=o.forwardRef((function(n,a){var r=!t.getReadOnly||t.getReadOnly();return o.createElement(e,i({ref:a},n,{onDragStart:r?void 0:function(e){e.dataTransfer.dropEffect="move",e.dataTransfer.setData("text","DRAFTJS_BLOCK_KEY:"+n.block.getKey())}}))}));return n.displayName="BlockDraggable("+function(e){var t=e.WrappedComponent||e;return t.displayName||t.name||"Component"}(e)+")",n.WrappedComponent=e.WrappedComponent||e,n}};function c(){var e={getReadOnly:void 0};return{initialize:function(t){var n=t.getReadOnly;e.getReadOnly=n},decorator:d({store:e}),handleDrop:l}}},51747:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var a=n(2784),r=n(1503),o=n(6277);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i.apply(this,arguments)}function s(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}var l=function(e,t,n){var a=e.getCurrentContent().createEntity("IMAGE","IMMUTABLE",i({},n,{src:t})).getLastCreatedEntityKey(),o=r.AtomicBlockUtils.insertAtomicBlock(e,a," ");return r.EditorState.forceSelection(o,o.getCurrentContent().getSelectionAfter())},d=["block","className","theme"],c=["blockProps","customStyleMap","customStyleFn","decorator","forceSelection","offsetKey","selection","tree","blockStyleFn","preventScroll","contentState"],u=a.forwardRef((function(e,t){var n=e.block,r=e.className,l=e.theme,u=void 0===l?{}:l,m=s(e,d);m.blockProps,m.customStyleMap,m.customStyleFn,m.decorator,m.forceSelection,m.offsetKey,m.selection,m.tree,m.blockStyleFn,m.preventScroll;var g=m.contentState,p=s(m,c),f=(0,o.Z)(u.image,r),h=g.getEntity(n.getEntityAt(0)).getData().src;return a.createElement("img",i({},p,{ref:t,src:h,role:"presentation",className:f}))})),m={},g=function(e){void 0===e&&(e={});var t=e.theme?e.theme:m,n=e.imageComponent||u;e.decorator&&(n=e.decorator(n));var r=function(e){return a.createElement(n,i({},e,{theme:t}))};return{blockRendererFn:function(e,t){var n=t.getEditorState;if("atomic"===e.getType()){var a=n().getCurrentContent(),o=e.getEntityAt(0);if(!o)return null;var i=a.getEntity(o).getType();return"IMAGE"===i||"image"===i?{component:r,editable:!1}:null}return null},addImage:l}}},53816:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var a=n(1503),r=n(2784);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o.apply(this,arguments)}var i=["blockProps","isResizable","resizeSteps"],s=function(e,t){return Math.ceil(e/t)*t},l=function(e){var t=e.config,n=e.store;return function(e){var a=r.forwardRef((function(a,l){var d=a.blockProps,c=a.isResizable,u=void 0===c||c,m=a.resizeSteps,g=void 0===m?1:m,p=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(a,i),f=t.vertical,h=void 0!==f&&f,y=t.horizontal,v=void 0===y?"relative":y,x=t.initialWidth,S=t.initialHeight,b=(0,r.useState)(!1),j=b[0],C=b[1],k=(0,r.useState)(0),E=k[0],P=k[1],Z=(0,r.useState)(0),_=Z[0],N=Z[1],I=(0,r.useState)({}),R=I[0],B=I[1],w=(0,r.useRef)(),A=(0,r.useCallback)((function(){j||B({})}),[j]),D=(0,r.useCallback)((function(e){var t=w.current.getBoundingClientRect(),n=e.clientX-t.left,a=e.clientY-t.top,r=!(!h||"auto"===h)&&a<6,o=!!v&&n<6,i=!!v&&n>=t.width-6,s=!(!h||"auto"===h)&&(a>=t.height-6&&a<t.height),l={isTop:r,isLeft:o,isRight:i,isBottom:s,canResize:(r||o||i||s)&&u};B((function(e){return Object.keys(l).filter((function(t){return e[t]!==l[t]})).length?l:e}))}),[h,v,u]),M=(0,r.useCallback)((function(e){if(R.canResize){e.preventDefault();var t=R.isTop,a=R.isLeft,r=R.isRight,o=R.isBottom,i=w.current,l=e.clientX,c=e.clientY,u=parseInt(document.defaultView.getComputedStyle(i).width,10),m=parseInt(document.defaultView.getComputedStyle(i).height,10),p=E,f=_,y=function(e){var i=u+(a?l-e.clientX:e.clientX-l),d=m+e.clientY-c,y=n.getEditorRef(),x=y.refs&&y.refs.editor?y.refs.editor:y.editor;i=Math.min(x.clientWidth,i),d=Math.min(x.clientHeight,d);var S=100/x.clientWidth*i,b=100/x.clientHeight*d;(a||r)&&"relative"===v?(p=g?s(S,g):S,P(p)):(a||r)&&"absolute"===v&&(p=g?s(i,g):i,P(p)),(t||o)&&"relative"===h?(f=g?s(b,g):b,N(f)):(t||o)&&"absolute"===h&&(f=g?s(d,g):d,N(f)),e.preventDefault()};document.addEventListener("mousemove",y,!1),document.addEventListener("mouseup",(function e(){document.removeEventListener("mousemove",y,!1),document.removeEventListener("mouseup",e,!1),C(!1),d.setResizeData({width:p,height:f})}),!1),C(!0)}}),[R,E,_,d]),O=(0,r.useMemo)((function(){var e={position:"relative"},t=R.isTop,n=R.isLeft,a=R.isRight,r=R.isBottom;if("auto"===v)e.width="auto";else if("relative"===v){var o=E||d.resizeData.width;e.width=!o&&x?x:(o||40)+"%"}else if("absolute"===v){var i=E||d.resizeData.width;e.width=!i&&x?x:(i||40)+"px"}if("auto"===h)e.height="auto";else if("relative"===h){var s=_||d.resizeData.height;e.height=!s&&S?S:(s||40)+"%"}else if("absolute"===h){var l=_||d.resizeData.height;e.height=!l&&S?S:(l||40)+"%"}return e.cursor=u?a&&r||n&&t?"nwse-resize":a&&t||r&&n?"nesw-resize":a||n?"ew-resize":r||t?"ns-resize":"default":"default",e}),[R,_,E]),T=!n.getReadOnly||n.getReadOnly()?{}:{onMouseDown:M,onMouseMove:D,onMouseLeave:A};return r.createElement(e,o({},p,T,{blockProps:d,ref:function(e){w.current=e,"function"===typeof l?l(e):l&&(l.current=e)},style:O}))}));return a.displayName="BlockResizeable("+function(e){var t=e.WrappedComponent||e;return t.displayName||t.name||"Component"}(e)+")",a.WrappedComponent=e.WrappedComponent||e,a}},d=function(e,t){var n=t.getEditorState,r=t.setEditorState;return function(t){var i=e.getEntityAt(0);if(i){var s=n();s.getCurrentContent().mergeEntityData(i,o({},t)),r(a.EditorState.forceSelection(s,s.getSelection()))}}},c=function(e){void 0===e&&(e={});var t={getEditorRef:void 0,getReadOnly:void 0,getEditorState:void 0,setEditorState:void 0};return{initialize:function(e){var n=e.getEditorRef,a=e.getReadOnly,r=e.getEditorState,o=e.setEditorState;t.getReadOnly=a,t.getEditorRef=n,t.getEditorState=r,t.setEditorState=o},decorator:l({config:e,store:t}),blockRendererFn:function(e,t){var n=t.getEditorState,a=t.setEditorState,r=e.getEntityAt(0),o=n().getCurrentContent();return{props:{resizeData:r?o.getEntity(r).getData():{},setResizeData:d(e,{getEditorState:n,setEditorState:a})}}}}}},27805:function(e,t,n){"use strict";function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function r(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}n.d(t,{Z:function(){return r}})}},function(e){e.O(0,[229,476,939,421,138,774,888,179],(function(){return t=18973,e(e.s=t);var t}));var t=e.O();_N_E=t}]);